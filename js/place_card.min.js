$(()=>{function t(){f=u.width(),c=$(".js-card").outerWidth()+d,i(),n()}function n(){s=[];for(let t=0;t<l;t++)e(t,0,-p/2);$(".js-card").each(function(t){h($(this))});var t=r(0,s.length);u.height(t.max+p/2)}function i(){l=Math.floor((f+d)/c),m=Math.min(x,(f-(c-m)*l)/(l-1)),p=m,c=$(".js-card").outerWidth()+m,f=c*l-m,console.log(l,m,c,f),u.width(f)}function e(t,n,i){var e={};e.x=t,e.endY=n+i+p,s.push(e)}function o(t){var n=a(t);s.splice(n,1)}function r(t,n){var i={},e=[];for(let i=0;i<n;i++){var o=a(t+i);e.push(s[o].endY)}return i.min=Math.min.apply(Math,e),i.max=Math.max.apply(Math,e),i.x=e.indexOf(i.min),i}function a(t){for(let i=0;i<s.length;i++){var n=s[i];if(n.x===t)return i}}function h(t){var n={},i=r(0,s.length);n.x=i.x,n.y=i.min,t.css({left:n.x*c,top:n.y,position:"absolute"}),o(n.x),e(n.x,n.y,t.outerHeight())}u=$(".js-members"),t(),$(window).on("resize",()=>{console.log("resized"),u.css("width",""),t()});let s,c,l,u,f,d=30,x=60,m=d,p=30});